# Безопасность API Tokens

Рекомендации по безопасному использованию API токенов.

## Создание токенов

### Read-Only токены

Для операций только чтения:

```json
{
  "name": "Read-only token",
  "type": "read-only",
  "expiresAt": "2025-12-31T23:59:59Z"
}
```

### Full-Access токены

Только когда необходим полный доступ:

```json
{
  "name": "Full access token",
  "type": "full-access",
  "expiresAt": "2025-12-31T23:59:59Z"
}
```

## Безопасность

### Хранение

✅ **Хорошо:**
- Переменные окружения
- Secrets manager (AWS Secrets Manager, HashiCorp Vault)
- Зашифрованные файлы конфигурации

❌ **Плохо:**
- Коммиты в репозиторий
- Открытые файлы конфигурации
- Логи приложений

### Ротация

Регулярно обновляйте токены:
- Каждые 90 дней для production
- Немедленно при компрометации
- После увольнения сотрудников

### Мониторинг

Отслеживайте использование токенов:
- Проверяйте `lastUsedAt`
- Удаляйте неиспользуемые токены
- Настройте алерты на подозрительную активность

## Ограничения

### Read-Only токены

- Только GET запросы
- Не могут изменять данные
- Безопаснее для публичных API

### Full-Access токены

- Все HTTP методы
- Полный доступ к API
- Используйте только при необходимости

## Срок действия

Всегда устанавливайте срок действия:

```json
{
  "expiresAt": "2025-12-31T23:59:59Z"
}
```

## Примеры использования

### В коде

```go
// Плохо
token := "xvc_abc123..."

// Хорошо
token := os.Getenv("API_TOKEN")
```

### В CI/CD

```yaml
# GitHub Actions
- name: Call API
  env:
    API_TOKEN: ${{ secrets.API_TOKEN }}
  run: |
    curl -H "Authorization: $API_TOKEN" ...
```

