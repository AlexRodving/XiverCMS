# Changelog

## [Unreleased] - 2024

### Added
- **Media Library**: Полная поддержка загрузки, хранения и управления медиа файлами
  - Загрузка файлов через `/api/upload`
  - Управление метаданными (альтернативный текст, подпись)
  - Поддержка различных форматов файлов
  - Безопасное хранение файлов

- **API Tokens**: Токены для программного доступа к API
  - Создание токенов с настраиваемыми правами (read-only, full-access)
  - Управление сроком действия токенов
  - Отслеживание последнего использования

- **Role-Based Access Control (RBAC)**: Расширенная система управления правами
  - CRUD операции для ролей и прав доступа
  - Гибкая система разрешений с условиями
  - Поддержка wildcard разрешений (all, content-type:*, etc.)

- **Audit Logs**: Логирование всех действий пользователей
  - Автоматическое логирование действий (create, update, delete, login)
  - Хранение IP адреса и User-Agent
  - Метаданные для каждого действия

- **Content History**: История изменений контента
  - Версионирование записей контента
  - Отслеживание изменений с типом и заметками
  - Информация о том, кто и когда внес изменения

### Changed
- Улучшена система аутентификации для поддержки как JWT, так и API токенов
- Добавлена интеграция аудит логов в основные операции
- Обновлены миграции базы данных для новых моделей

### Security
- Добавлена защита от directory traversal в Media Library
- Ограничение размера загружаемых файлов (10MB)
- Валидация API токенов с проверкой срока действия

